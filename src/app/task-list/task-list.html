<h2> To-do List</h2>

<button mat-flat-button routerLink="/task/create"> Crear nueva tarea</button>

    <table mat-table [dataSource]="tasks" class="mat-elevation-z8 table-tasks">
        <ng-container matColumnDef="Tarea">
            <th mat-header-cell *matHeaderCellDef>
                Tarea
            </th>
            <td mat-cell *matCellDef="let task"> {{ task.title }}</td>
        </ng-container>
        <ng-container matColumnDef="Descripcion">
            <th mat-header-cell *matHeaderCellDef>
                Descripcion
            </th>
            <td mat-cell *matCellDef="let task"> {{ task.description }}</td>
        </ng-container>
        <ng-container matColumnDef="Estatus">
            <th mat-header-cell *matHeaderCellDef>
                Estatus
            </th>
            <td mat-cell *matCellDef="let task"> {{ task.done ? 'Completada' : 'Pendiente' }}</td>
        </ng-container>
        <ng-container matColumnDef="Acciones">
            <th mat-header-cell *matHeaderCellDef>Acciones</th>
            <td mat-cell *matCellDef="let task">
                <a class="margin-right-button" mat-flat-button routerLink="/task/edit/{{task.id}}">Modificar</a>
                <button class="margin-right-button" mat-flat-button color="warn" (click)="deleteTask(task.id)"> Borrar </button>
                @if(!task.done) {
                    <button class="margin-right-button" mat-flat-button (click)="completeTask(task.id)"> Completar </button>
                }
            </td>
            
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columns"> </tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>

    </table>